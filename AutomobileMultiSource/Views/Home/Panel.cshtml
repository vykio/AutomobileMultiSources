@{
    ViewBag.Title = "Panel";
}

<h3>@ViewBag.Message</h3>

<main class="flex-shrink-0">
    <div class="container" style="padding-top: 50px">
        <div class="row align-items-start full-height">
            <div class="col-md-3">
                <div class="panel panel-default">
                    <div class="panel-heading">Types de données supportés</div>
                    <div class="panel-body">
                        <ul>
                            <li><a href="#">Texte</a></li>
                            <li><a href="#">SQL</a></li>
                            <li><a href="#">JSON</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="col-md-9 pull-right">
                <div id="text" class="panel panel-default">
                    <div class="panel-heading">Datasource txt</div>
                    <div class="panel-body">
                        <div class="well">

                            @foreach (string line in ViewBag.TxtToTxt)
                            {
                                @line
                           
                            }

                        </div>

                        @Html.ActionLink("Télécharger", "Download", new { name = "DatasourceTxt.txt", type = "application/txt", downloadName = "TEST.txt" }, new { @class = "btn btn-default" })

                        <hr />

                        @Html.ActionLink("Convertir en XML et Télécharger", "ConvertFileFromTxt", new { name = "DatasourceTxt.txt", sourceType = "application/txt", newType = "application/xml", downloadName = "txtToXml.xml" }, new { @class = "btn btn-default" })

                        @Html.ActionLink("Convertir en JSON et Télécharger", "ConvertFileFromTxt", new { name = "DatasourceTxt.txt", sourceType = "application/txt", newType = "application/json", downloadName = "txtToJson.json" }, new { @class = "btn btn-default" })

                        @Html.ActionLink("Convertir en CSV et Télécharger", "ConvertFileFromTxt", new { name = "DatasourceTxt.txt", sourceType = "application/txt", newType = "application/csv", downloadName = "txtToCsv.csv" }, new { @class = "btn btn-default" })


                    </div>
                </div>
            </div>

            <div class="col-md-9 pull-right">
                <div id="text" class="panel panel-default">
                    <div class="panel-heading">Datasource SQL</div>
                    <div class="panel-body">
                        <div class="well">

                            @foreach (string line in ViewBag.TxtToTxt)
                            {
                                <h2>@line</h2>

                            }


                        </div>


                        @Html.ActionLink("Télécharger", "Download", new { name = "DatasourceSQL.mdf", type = "application/sql", downloadName = "DatasourceSql.mdf" }, new { @class = "btn btn-default" })

                        <hr />

                        @Html.ActionLink("Convertir en XML et Télécharger", "ConvertFileFromMdf", new { name = "DatasourceSQL.mdf", sourceType = "application/sql", newType = "application/xml", downloadName = "mdfToXml.xml" }, new { @class = "btn btn-default" })

                        @Html.ActionLink("Convertir en JSON et Télécharger", "ConvertFileFromMdf", new { name = "DatasourceSQL.mdf", sourceType = "application/sql", newType = "application/json", downloadName = "mdfToJson.json" }, new { @class = "btn btn-default" })

                        @Html.ActionLink("Convertir en CSV et Télécharger", "ConvertFileFromMdf", new { name = "DatasourceSQL.mdf", sourceType = "application/sql", newType = "application/csv", downloadName = "mdfToCsv.csv" }, new { @class = "btn btn-default" })



                    </div>
                </div>
            </div>

            <div class="col-md-9 pull-right">
                <div id="text" class="panel panel-default">
                    <div class="panel-heading">Datasource JSON</div>
                    <div class="panel-body">



                        @Html.ActionLink("Télécharger", "Download", new { name = "DatasourceTxt.txt", type = "application/txt", downloadName = "TEST.txt" }, new { @class = "btn btn-default disabled" })

                        <hr />

                        @Html.ActionLink("Convertir en XML et Télécharger", "ConvertFileFromTxt", new { name = "DatasourceTxt.txt", sourceType = "application/txt", newType = "application/xml", downloadName = "TEST.xml" }, new { @class = "btn btn-default disabled" })

                        @Html.ActionLink("Convertir en JSON et Télécharger", "ConvertFileFromTxt", new { name = "DatasourceTxt.txt", sourceType = "application/txt", newType = "application/json", downloadName = "TEST.json" }, new { @class = "btn btn-default disabled" })

                        @Html.ActionLink("Convertir en CSV et Télécharger", "ConvertFileFromTxt", new { name = "DatasourceTxt.txt", sourceType = "application/txt", newType = "application/csv", downloadName = "TEST.csv" }, new { @class = "btn btn-default disabled" })



                    </div>
                </div>
            </div>

        </div>
    </div>
</main>

<script>

    $(function () {
        $("#test").click(function () {
            $.ajax({
                type: "GET",
                url: "/Home/getContent",
                data: '{name : "json"}',
                dataType: "json",
                success: function (response) {
                    console.log(response);
                    
                },
                failure: function (response) {
                    alert(response.responseText);
                },
                error: function (response) {
                    alert(response.responseText);
                }

            })

        })
    })


</script>